# Scientific Computing Template
This is a template directory with related shell scripts for creating and maintaining TIN-Based Real-Time Integrated Basin Simulator (tRIBS) model runs on HPC systems at ASU (though could be useful for scientific computing projects in general). It is highly recommended that some form of version control is used, like GitHub. Modification to .gitignore files may be required in order to insure relevant material is version controlled, while large data sets are appropriately stored in a selected location. Note if you are using GitHub on a remote-server (like Agave at ASU), then you will need to go through the steps of generating and adding in an ssh key to your .ssh profile (see [this](https://asurc.atlassian.net/wiki/spaces/RC/pages/1626570754/Connecting+to+GitHub+via+SSH) for more info ). This template is modeled after: Noble, W.S., 2009. A Quick Guide to Organizing Computational Biology Projects. PLOS Computational Biology 5, e1000424. https://doi.org/10.1371/journal.pcbi.1000424


## System
1. <ins>Anytime you working on a project: document steps in notebook stored in **results**.</ins> Currently, the most simple approach is to just use an editor and .txt file&mdash;alternatively one could use jupyter lab as notebook to embed figures, create plots, write in markdown, generate pdfs of your notes, etc. Also consider README files as form of documentation in subdirectories. For example for a specific data set, you may want to creat a README file that lives in the sub-directory with the data set that records where and when you obtained the data, and whether its raw or has been processed in some way, and other relevant material.
2. Before starting anything run ```startup.sh```&mdash;this will generate new sub-directories in **data** and **results** labeled with the current date (e.g. yyyy-mm--dd). Currently the **results/yyyy-mm--dd** directory is populated with .gitignore that will ignore all content except the scripts ```runall.sh``` and ```summarize.sh```. ```runall.sh``` can include slurm commands and any other relevant code required to run your given program, ```summarize.sh``` can be executed once the model completed and generate any useful figures or outputs required. For **data/yyyy-mm--dd**, place your <ins>.in file</ins> and any other small text files (.ldt,sdt,nodes.dat) you have modified in this folder. Large data sets (e.g. ascii grids) can be stored in a higher level of **data** or linked to the data server, but should be added to .gitignore to avoid trying to push large data sets to GitHub. If the grids are modified you will want to keep different versions, with clear documentation in the folder (e.g. readme text noting what has been change). Similarly, if you are generating model runs in your home folder (limit 100GB), you may want to set up rsync in the ```summarize.sh``` to clean up the results and logs by moving them over to the data server. 
3. Put the source code for tRIBS in **src** and build the project in **bin**. Note the entire **bin** folder will be ignored by git as **src** should contain sufficient documentation of the modeled version used. Additional scripts for post processing may want to be stored in **src** as well.
4. Commit early and often, least once day if actively working on the project.


## Directory Structure
**bin** holds any major programs or script for generating figures. Both **data** and **results** can be synced with some form of storage(i.e. dropbox or data/path on agave). **doc** can contain manuscripts, supplementary information, or other related info. **src** should contain the code used for generating programs in **bin** and any other relevant scripts that you use in your work.

## Misc
Customize, and use this framework as you see fit. The idea is to provide a way to create clearly documented and reproducible research.
Any feedback, tips or tricks, improvements, or other comments are welcome.
